<!DOCTYPE html>
<html>
    
    <head>
        <title>Tolito Progress Bar for jQuery Mobile</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
        <link rel="stylesheet" type="text/css" href="../src/css/tolito-1.0.3.min.css" />
        <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
        <script type="text/javascript" src="../src/js/tolito-1.0.3.min.js"></script>
        <script>
            $(document)
                .on('pageinit', '#home-page', function () {

                /* 
                 * show an overlay with tolito progress bar 
                 */
                $(["<div id=\"progressbar-overlay\" class=\"ui-tolito-progressbar-overlay\">",
                    "<div class=\"ui-tolito-progressbar-overlay-box\">",
                    "<div class=\"ui-tolito-progressbar-overlay-box-corner-top ui-tolito-progressbar-overlay-box-corner-bottom ui-tolito-progressbar-overlay-box-content ui-tolito-progressbar-overlay-box-body-c\">",
                    "<h3>Chargement des donnees...</h3>",
                    "<p></p>",
                    "<div id=\"progressbar\"></div>",
                    "</div>",
                    "</div>",
                    "</div>"].join(""))
                    
                    .css({
                    "opacity": 0.85
                })
                    .appendTo($.mobile.pageContainer)
                    .show(function () {

                    TolitoProgressBar('progressbar')
                        .setOuterTheme('b')
                        .setInnerTheme('e')
                        .isMini(true)
                        .setMax(100)
                        .setStartFrom(0)
                        .setInterval(10)
                        .showCounter(true)
                        .logOptions()
                        .build()
                        .run();
                        
                });
                
                setTimeout(function ()
                {
                  $('#progressbar-overlay').remove();
                }, 5000);
            });
        </script>
    </head>
    
    <body>
        <!-- /page -->
        <div id="home-page" data-role="page">
            <!-- /header -->
            <div data-role="header" data-theme="c">
                 <h1>Tolito Progress Bar for jQuery Mobile</h1>

            </div>
            <!-- /content -->
            <div data-role="content">
                <div data-role="fieldcontain" class="ui-hide-label">
                    <label for="username">Username:</label>
                    <input type="text" name="username" id="username" value="" placeholder="Username" />
                </div>
            </div>
        </div>
    </body>

</html>
